<!doctype html><html lang="en" data-bs-theme=""><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Conway Makerspace System</title><link href="/assets/bootstrap/css/bootstrap.min.css" rel="stylesheet"><script src="/assets/bootstrap/js/bootstrap.bundle.min.js"></script><script src="/assets/htmx.min.js"></script></head><nav class="navbar navbar-expand-lg bg-light"><div class="container-fluid"><a class="navbar-brand" href="/admin">Conway</a> <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item"><a class="nav-link" aria-current="page" href="/admin/members">Members</a></li><li class="nav-item"><a class="nav-link" aria-current="page" href="/admin/metrics">Metrics</a></li></ul></div></div></nav> <div class="container my-5"><h2 class="mb-4">Metrics</h2><form method="get" class="mb-5"><label for="interval">Interval:</label> <select name="interval" id="interval" class="form-select w-auto d-inline-block ms-2" onchange="this.form.submit()"><option value="168h">7 days</option><option value="720h" selected>30 days</option><option value="2160h">90 days</option></select></form><div class="mb-5"><h3>active-members</h3><img id="chart-img-active-members" data-series="active-members" data-window="720h" style="width: 100%; padding: 8px;"></div><script>
				document.addEventListener('DOMContentLoaded', function() {
					const charts = document.querySelectorAll('img[id^="chart-img-"]');
					charts.forEach(function(img) {
						function setChartSrc() {
							const width = img.clientWidth;
							const series = img.getAttribute('data-series');
							const windowVal = img.getAttribute('data-window');
							img.src = `/admin/chart?series=${encodeURIComponent(series)}&window=${encodeURIComponent(windowVal)}&width=${width}`;
						}
						setChartSrc();
						window.addEventListener('resize', setChartSrc);
					});
				});
			</script></div></html>